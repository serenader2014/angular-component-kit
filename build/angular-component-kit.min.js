angular.module("ngComponentKit",["ngAnimate"]),angular.module("ngComponentKit").directive("ckDrag",function(){return function(t,n,e){function o(t){var e=t.pageX,p=t.pageY;n.append(c),a.off("mousedown",o),r.on("mousemove",i),r.on("mouseup",s),l=n.offset(),c.css({position:"absolute",top:0,left:0,width:n.width(),height:n.height(),background:"rgba(255,255,255,0.8)",cursor:"move"}),n.append(c),u.left=e,u.top=p,f.left=e-l.left,f.top=p-l.top}function i(t){var n=t.pageX,e=t.pageY;p.top=e-f.top,p.left=n-f.left,c.css({top:p.top-l.top,left:p.left-l.left})}function s(){r.off("mousemove",i),r.off("mouseup",s),a.on("mousedown",o),c.remove(),n.css({top:p.top,left:p.left})}var a=e.ckDrag?n.find(e.ckDrag):n,r=angular.element("body"),c=angular.element("<div></div>"),l={left:0,top:0},u={left:0,top:0},f={left:0,top:0},p={top:0,left:0};a.on("mousedown",o)}}),angular.module("ngComponentKit").directive("ckInput",["$compile",function(t){return{require:"ngModel",scope:{desc:"="},link:function(n,e,o,i){var s=['<span class="ck-input" ng-class="{up: hasValue, focus: focus, error: isError()}">','<span class="ck-input-desc">{{desc}}</span',"</span>"].join("");s=angular.element(t(s)(n)),e.before(s),s.append(e),e.on("focus",function(){n.focus=!0,n.$digest()}),e.on("blur",function(){n.focus=!1,n.$digest()}),n.$watch(function(){return i.$viewValue},function(t){n.hasValue=!!t}),n.isError=function(){return i.$invalid}}}}]),angular.module("ngComponentKit").directive("ckModal",function(){return{template:['<div tabindex="-1" ng-class="{active: active}" ng-blur="blur()"','ng-focus="focus()" ng-show="show" class="ck-modal" ck-drag=".ck-modal-head" >','<div class="ck-modal-head">{{title}}</div>','<div class="ck-modal-body" ng-transclude></div>','<div class="ck-modal-foot">','<button ng-click="ok()" class="ck-btn ck-btn-blue" ck-ripple>Comfirm</button>','<button ng-click="off($event)" class="ck-btn" ck-ripple="black">Close</button>',"</div></div>"].join(""),transclude:!0,scope:{title:"=name",confirm:"&",close:"&",show:"="},link:function(t,n,e){function o(){t.show=!1}var i=angular.element(document),s=angular.element(window).height(),a=angular.element(window).width();t.active=!1,a>800?t.$watch("show",function(e){t.active=!!e,e&&(n.css({top:i.scrollTop()+200,left:i.width()/2-400}),n.find(".ck-modal-body").css({maxHeight:s-400}))}):n.find(".ck-modal-body").css({maxHeight:s-132}),t.ok=function(){e.confirm?t.confirm({scope:t,close:o}):o()},t.off=function(){e.close?t.close({scope:t,close:o}):o()},t.blur=function(){t.active=!1},t.focus=function(){t.active=!0}},replace:!0}}),angular.module("ngComponentKit").factory("ckNotify",function(t,n){var e={type:"normal",msg:"",position:{top:!0,right:!0},autoHide:!0,callback:function(){}},o=function(o){var i=t.$new();i=angular.extend(i,e,o);var s=n("<notification></notification>")(i);angular.element("body").append(s)};return o.normal=function(t){return o({msg:t,type:"normal"})},o.success=function(t){return o({msg:t,type:"success"})},o.error=function(t){return o({msg:t,type:"error"})},o.warning=function(t){return o({msg:t,type:"warning"})},o}).directive("notification",function(){var t={template:['<div class="ck-notification ck-{{type}}" ng-style="positionStyle"','><span>{{msg}}</span><button class="ck-btn" ck-ripple ','ng-click="close()">Close</button></div>'].join(""),restrict:"E",link:function(t,n){t.positionStyle={},t.positionStyle.top=t.position.top?10:"auto",t.positionStyle.bottom=t.position.bottom?10:"auto",t.positionStyle.left=t.position.left?10:"auto",t.positionStyle.right=t.position.right?10:"auto",t.close=function(){n.remove(),"function"==typeof t.callback&&t.callback.call(this,t)}}};return t}),angular.module("ngComponentKit").factory("ckProgressBar",function(){function t(){n+=1,this.instanceCount=n,this.count=0,this.autoIncrease=!1,this.intervalHandler=null,this.color="rgb(2, 141, 192)",this.status="wait",this.callbacks={}}var n=0;t.fn=t.prototype,t.fn.init=function(){var t=['<div class="ck-progress-wrapper"><span class="ck-progress-bar"><span class="ck-progress-bar-inner">','</span></span><span class="ck-progress-circle"></span></div>'].join("\n");return this.ele=angular.element(t),this.setColor(this.color),this.status="loading",angular.element("body").append(this.ele),this.trigger("init"),this},t.fn.start=function(){return"loading"!==this.status&&"prohibit"!==this.status?(this.init(),this.set(0),this.trigger("start"),this):void 0},t.fn.prohibit=function(){return this.status="prohibit",this},t.fn.increase=function(t){var n=this;if("loading"===this.status&&!this.autoIncrease)return t?(this.autoIncrease=!0,this.intervalHandler=setInterval(function(){return n.count=n.count+Math.floor(5*Math.random()),n.count>98?void n.stop():void n.set(n.count)},400)):this.set(this.count+Math.floor(5*Math.random())),this.trigger("increase"),this},t.fn.set=function(t){return"loading"===this.status?(this.count=t,this.ele.find(".ck-progress-bar").width(this.count+"%"),this.trigger("progress"),this):void 0},t.fn.stop=function(){return this.intervalHandler&&(clearInterval(this.intervalHandler),this.intervalHandler=null,this.autoIncrease=!1),this.trigger("stop"),this},t.fn.end=function(){if("loading"===this.status){var t=this;return this.stop(),this.set(100),this.autoIncrease=!1,setTimeout(function(){t.ele.fadeOut({duration:800,done:function(){t.count=0,t.status="wait",t.ele.remove(),t.trigger("end")}})},400),this}},t.fn.setColor=function(t){function n(t){var n=t.toString(16);return 1===n.length?"0"+n:n}function e(t){var e,o,i,s=t.match(/\((.*)\)/)[1].split(",");return e=+s[0],o=+s[1],i=+s[2],"#"+n(e)+n(o)+n(i)}function o(t){var n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(n,function(t,n,e,o){return n+n+e+e+o+o});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)].join(","):null}if(t){var i,s;return"#"===t[0]?(i=o(t),s=t):(i=t.match(/\((.*)\)/)[1],s=e(t)),this.color=s,this.ele.find(".ck-progress-bar").css({background:s,boxShadow:"0 0 10px 0 rgba("+i+",0.5)"}),this.ele.find(".ck-progress-bar-inner").css({background:s,boxShadow:"0 0 10px rgba("+i+",0.5)"}),this.ele.find(".ck-progress-circle").css({borderBottomColor:s,borderLeftColor:s}),this.trigger("setColor"),this}},t.fn.on=function(t,n,e){return this.callbacks[t]&&this.callbacks[t].length?this.callbacks[t].push({fn:n,context:e||this}):this.callbacks[t]=[{fn:n,context:e||this}],this},t.fn.trigger=function(t){return this.callbacks[t]&&this.callbacks[t].length?(this.callbacks[t].forEach(function(t){t.fn.call(t.context)}),this):void 0};var e={createInstance:function(){var n=new t;return this.instances.push(n),n},instances:[]};return e}),angular.module("ngComponentKit").directive("ckRipple",function(){return{link:function(t,n,e){n.addClass("ck-ripple");var o=n.find(".ck-ripple-ink");if("ck-ripple"!==e.ckRipple){var i=e.ckRipple;n.addClass("ck-ripple-"+i)}n.on("click",function(t){o.removeClass("ck-ripple-animate");var e=n.offset().left,i=n.offset().top,s=n[0].offsetWidth,a=n[0].offsetHeight,r=Math.max(s,a),c=t.pageX-e-r/2,l=t.pageY-i-r/2;o.css({width:r,height:r,top:l,left:c}),o.addClass("ck-ripple-animate")})},transclude:!0,template:'<span class="ck-ripple-ink"></span><span ng-transclude></span>'}}),angular.module("ngComponentKit").factory("template",function(){return function(t){var n,e=0,o='var text="';t.replace(/\${{(.*?)}}|$/g,function(n,i,s){o+=t.slice(e,s).replace(/"/g,'\\"'),e=s+n.length,o+='"+'+(i||'""')+'+"'}),o="with(obj){\n"+o+'";\n}\nreturn text;';try{n=new Function("obj",o)}catch(i){throw i.source=o,i}return function(t){return n.call(this,t)}}});