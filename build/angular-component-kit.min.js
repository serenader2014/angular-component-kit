angular.module("ngComponentKit",["ngAnimate"]),angular.module("ngComponentKit").directive("ckDrag",function(){return function(e,o,n){function t(e){var n=e.pageX,u=e.pageY;o.append(s),l.off("mousedown",t),a.on("mousemove",c),a.on("mouseup",i),p=o.offset(),s.css({position:"absolute",top:0,left:0,width:o.width(),height:o.height(),background:"rgba(255,255,255,0.8)",cursor:"move"}),o.append(s),r.left=n,r.top=u,f.left=n-p.left,f.top=u-p.top}function c(e){var o=e.pageX,n=e.pageY;u.top=n-f.top,u.left=o-f.left,s.css({top:u.top-p.top,left:u.left-p.left})}function i(){a.off("mousemove",c),a.off("mouseup",i),l.on("mousedown",t),s.remove(),o.css({top:u.top,left:u.left})}var l=n.ckDrag?o.find(n.ckDrag):o,a=angular.element("body"),s=angular.element("<div></div>"),p={left:0,top:0},r={left:0,top:0},f={left:0,top:0},u={top:0,left:0};l.on("mousedown",t)}}),angular.module("ngComponentKit").directive("ckInput",["$compile",function(e){return{require:"ngModel",scope:{desc:"="},link:function(o,n,t,c){var i=['<span class="ck-input" ng-class="{up: hasValue, focus: focus, error: isError()}">','<span class="ck-input-desc">{{desc}}</span',"</span>"].join("");i=angular.element(e(i)(o)),n.before(i),i.append(n),n.on("focus",function(){o.focus=!0,o.$digest()}),n.on("blur",function(){o.focus=!1,o.$digest()}),o.$watch(function(){return c.$viewValue},function(e){o.hasValue=!!e}),o.isError=function(){return c.$invalid}}}}]),angular.module("ngComponentKit").directive("ckModal",function(){return{template:['<div ng-show="show" class="ck-modal"><div ck-drag=".ck-modal-head" class="ck-modal-wrapper">','<div class="ck-modal-head">{{title}}</div>','<div class="ck-modal-body" ng-transclude></div>','<div class="ck-modal-foot">','<button ng-click="ok()" class="ck-btn ck-btn-blue" ck-ripple>Comfirm</button>','<button ng-click="off($event)" class="ck-btn" ck-ripple="black">Close</button>',"</div></div></div>"].join(""),transclude:!0,scope:{title:"=name",confirm:"&",close:"&",show:"="},link:function(e,o){function n(){e.show=!1}var t=angular.element(document);e.$watch("show",function(e){e&&o.find(".ck-modal-wrapper").css({top:t.scrollTop()+200,left:t.width()/2-400})}),e.ok=function(){e.confirm&&"function"==typeof e.confirm?e.confirm({scope:e,close:n}):n()},e.off=function(){e.close&&"function"==typeof e.close?e.close({scope:e,close:n}):n()}},replace:!0}}),angular.module("ngComponentKit").directive("ckRipple",function(){return{link:function(e,o,n){o.addClass("ck-ripple");var t=o.find(".ck-ripple-ink");if("ck-ripple"!==n.ckRipple){var c=n.ckRipple;o.addClass("ck-ripple-"+c)}o.on("click",function(e){t.removeClass("ck-ripple-animate");var n=o.offset().left,c=o.offset().top,i=o[0].offsetWidth,l=o[0].offsetHeight,a=Math.max(i,l),s=e.pageX-n-a/2,p=e.pageY-c-a/2;t.css({width:a,height:a,top:p,left:s}),t.addClass("ck-ripple-animate")})},transclude:!0,template:'<span class="ck-ripple-ink"></span><span ng-transclude></span>'}});
